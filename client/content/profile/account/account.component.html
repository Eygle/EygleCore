<div class="content" fxFlex="flex" fxLayout="row">
    <mat-card>
        <mat-card-header>
            <div fxLayout="row" fxLayoutAlign="space-between center">
                <h2 translate="ACCOUNT.UPDATE_INFO"></h2>
                <mat-icon class="action" (click)="updateView.info = true">edit</mat-icon>
            </div>
        </mat-card-header>

        <mat-card-content *ngIf="!updateView.info">
            <table class="label-value">
                <tr>
                    <td class="label" translate="COMMON.EMAIL"></td>
                    <td>{{user.email}}</td>
                </tr>
                <tr>
                    <td class="label" translate="COMMON.USERNAME"></td>
                    <td>{{user.userName}}</td>
                </tr>
            </table>
        </mat-card-content>

        <mat-card-content fxLayout="column" fxLayoutAlign="start center" *ngIf="updateView.info">
            <mat-form-field>
                <input matInput placeholder="{{'COMMON.EMAIL' | translate}}" [(ngModel)]="user.email" name="email"
                       required>
            </mat-form-field>

            <mat-form-field>
                <input matInput placeholder="{{'COMMON.USERNAME' | translate}}" [(ngModel)]="user.userName"
                       name="userName">
            </mat-form-field>
        </mat-card-content>

        <mat-card-actions *ngIf="updateView.info">
            <button mat-raised-button (click)="updateInfo($event)">{{'COMMON.SAVE' | translate}}</button>
            <button mat-button (click)="updateView.info = false">{{'COMMON.CANCEL' | translate}}</button>
        </mat-card-actions>
    </mat-card>

    <mat-card>
        <mat-card-header>
            <h2 translate="COMMON.ACTIONS"></h2>
        </mat-card-header>

        <mat-card-content fxLayout="column" fxLayoutAlign="start center" *ngIf="!updateView.password">
            <button mat-raised-button (click)="updateView.password = true">{{'ACCOUNT.CHANGE_PASSWORD' | translate}}</button>
            <button mat-raised-button (click)="logout()">{{'ACCOUNT.LOGOUT' | translate}}</button>
        </mat-card-content>

        <mat-card-content fxLayout="column" fxLayoutAlign="start center" *ngIf="updateView.password">
            <mat-form-field>
                <input type="password" matInput placeholder="{{'COMMON.PASSWORD' | translate}}" [(ngModel)]="password"
                       name="password" required>
            </mat-form-field>

            <mat-form-field>
                <input type="password" matInput placeholder="{{'COMMON.CONFIRM_PASSWORD' | translate}}"
                       name="confirm-password" required>
            </mat-form-field>
        </mat-card-content>

        <mat-card-actions *ngIf="updateView.info">>
            <button mat-raised-button (click)="changePassword($event)">{{'COMMON.SAVE' | translate}}</button>
        </mat-card-actions>
    </mat-card>
</div>
